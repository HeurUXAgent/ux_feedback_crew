analyze_ui:
  description: >
    Analyze the mobile UI screenshot at {screenshot_path}.
    
    Extract comprehensive information including:
    - All UI components (buttons, inputs, images, text, icons)
    - Layout structure and visual hierarchy
    - Color scheme and palette
    - Typography details (sizes, weights, styles)
    - Spacing and density
    - Notable patterns and conventions
    - Any accessibility concerns
    
    Provide detailed, structured analysis that will be used
    for heuristic evaluation.
  expected_output: >
    A comprehensive JSON analysis containing all UI components, layout information, color scheme, typography details, spacing 
    observations, and identified patterns.
  agent: vision_analyst
  # max_iterations: 1

evaluate_heuristics:
  description: >
    Using the vision analysis from the previous task, evaluate this mobile UI against Nielsen's 10 Usability Heuristics, WCAG2 color 
    guidelines and mobile-specific UX guidelines.

    For each violation found:
    - Identify which heuristic is violated
    - Assign severity (critical/high/medium/low)
    - Describe the specific issue clearly
    - List affected UI components
    - Provide improvement suggestions
    
    Also identify what the UI does well (strengths). Calculate an overall UX score (0-10).
  expected_output: >
    A structured JSON evaluation containing all violations with
    severity levels, affected components, improvement suggestions,
    identified strengths, and an overall UX score.
  agent: heuristic_evaluator
  context:
    - analyze_ui
  # max_iterations: 1 

generate_feedback:
  description: >
    Transform the heuristic violations into developer-friendly, actionable feedback using both the vision analysis and heuristic evaluation.
    
    For each issue:
    - Create an action-oriented title
    - Explain why it matters to users
    - Provide step-by-step implementation guidance
    - Describe visual changes needed for wireframes
    - Assign priority based on impact vs effort
    
    Also identify:
    - Quick wins (easy fixes with big impact)
    - Priority order for all fixes
    - Estimated effort for each change
  expected_output: >
    Developer-friendly feedback in JSON format with actionable items, priorities, quick wins, wireframe instructions, and implementation guidance.
  agent: feedback_specialist
  context:
    - analyze_ui
    - evaluate_heuristics
  output_file: app/data/outputs/feedback.md
  # max_iterations: 1 

create_wireframe:
  description: >
    Use the create_wireframe tool to generate the wireframe.
    You MUST NOT generate HTML yourself.
    Call the tool exactly once and return its output verbatim.
  expected_output: >
    A complete HTML wireframe file showing the improved design with all feedback implemented and CSS code for the improved wireframe.
  agent: wireframe_designer
  context:
    - analyze_ui
    - generate_feedback
  # max_iterations: 1 